<!DOCTYPE html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
    <meta name="viewport"
		  content="user-scalable=yes, initial-scale=1, maximum-scale=1.6, minimum-scale=0.25, width=device-width, height=device-height, target-densitydpi=medium-dpi" />
	<title>mk-ui pagex demo</title>

	<script   src="https://code.jquery.com/jquery-2.2.3.min.js" ></script>

	<script charset='UTF-8' src='../../src/js/jquery.mk.pagex.js'></script>
	<script charset='UTF-8' src='../../src/js/jquery.mk.cssanim.js'></script>
	<link rel="stylesheet" href="../../build/css/mk.css">

	<script>
		$.pagex.prefix = 'pages/';
		$.pagex.postfix = '.php';
		$.pagex.debug = true;
//		$.pagex.animation = null;

		function bindEvents(){
			$.pagex.on('open',function(e){alert("onOpen"); console.log('onopen',e); });
			$.pagex.on('open','1',function(e){alert("открыта первая страница"); console.log('onopen',e); });
			$.pagex.on('close','1',function(e){alert("ушли с первой страницы"); console.log('onopen',e); });
			$.pagex.on('error',function(e){alert("произошла ошибка"); console.log('onerror',e); });
		}


	</script>
	<style>
		body{background-color: #e3e3e3;}
		#pageContainer{position: relative; border:1px solid gray; height:200px; min-height: 200px;}
		.pagex-page{}
		li{}
		li:hover{background-color: rgba(0,0,0,0.05); cursor: pointer;}

		#animRes{width:10px;height:10px;background-color: red;}
	</style>
</head>
<body style='padding:10px;'>


<h2>TEST pagex</h2>
<ul>
	<li onclick='$.pagex.open("1")'>page 1</li>
	<li onclick='$.pagex.open("2")'>page 2</li>
	<li onclick='$.pagex.open("3-delayed")'>page 3 delayed</li>
	<li onclick='$.pagex.open("4-delayed-error")'>page 4 delayed error</li>
</ul>

<div><button onclick="this.disabled=true; bindEvents();">set event handlers</button></div>
<h2>page container</h2>
<div id='pageContainer'></div>


<script>
	//$('#d1').cssanimRemove('slide-out-to-right',{duration:1,oncomplete:function(){$('#d1').html('anim complete');console.log('anim complete');}});
	//$.pagex.open('1');
</script>

</body>
</html>


